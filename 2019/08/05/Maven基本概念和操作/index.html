<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Maven基本概念和操作 | YQ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近在学Java，找来一个开源项目练手，它是用 Spring Boot 搭建的框架，于是去学 Spring Boot，然而 Spring Boot 需要有 Spring 框架和 Maven 的使用经验，于是就来学 Maven 并作了一点笔记，预计过段时间会学习并整理 Spring 框架的笔记">
<meta name="keywords" content="Maven,Java">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven基本概念和操作">
<meta property="og:url" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/index.html">
<meta property="og:site_name" content="YQ">
<meta property="og:description" content="最近在学Java，找来一个开源项目练手，它是用 Spring Boot 搭建的框架，于是去学 Spring Boot，然而 Spring Boot 需要有 Spring 框架和 Maven 的使用经验，于是就来学 Maven 并作了一点笔记，预计过段时间会学习并整理 Spring 框架的笔记">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/2019080501.png">
<meta property="og:image" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/2019080502.PNG">
<meta property="og:image" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/2019080503.PNG">
<meta property="og:image" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/2019080504.png">
<meta property="og:updated_time" content="2019-08-05T05:22:04.469Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Maven基本概念和操作">
<meta name="twitter:description" content="最近在学Java，找来一个开源项目练手，它是用 Spring Boot 搭建的框架，于是去学 Spring Boot，然而 Spring Boot 需要有 Spring 框架和 Maven 的使用经验，于是就来学 Maven 并作了一点笔记，预计过段时间会学习并整理 Spring 框架的笔记">
<meta name="twitter:image" content="http://yoursite.com/2019/08/05/Maven基本概念和操作/2019080501.png">
  
    <link rel="alternate" href="/atom.xml" title="YQ" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">YQ</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">My Hexo Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Maven基本概念和操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/05/Maven基本概念和操作/" class="article-date">
  <time datetime="2019-08-04T16:00:00.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术/">技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Maven基本概念和操作
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近在学Java，找来一个开源项目练手，它是用 Spring Boot 搭建的框架，于是去学 Spring Boot，然而 Spring Boot 需要有 Spring 框架和 Maven 的使用经验，于是就来学 Maven 并作了一点笔记，预计过段时间会学习并整理 Spring 框架的笔记  </p>
<hr>
<a id="more"></a>
<h2 id="WHY"><a href="#WHY" class="headerlink" title="WHY"></a>WHY</h2><ul>
<li>借助于Maven可以将一个项目拆分成多个工程，便于管理、分工</li>
<li>借助于Maven可以将jar包仅仅保存在仓库中，有需要使用的工程引用这个文件接口，不再需要真的把jar包复制过来</li>
<li>借助于Maven可以以一种规范的方式下载jar包，因为所有知名框架或第三方工具的jar包都按照统一规范存放在了Maven的中央仓库，不再需要自己一个个去寻找下载</li>
<li>借助于Maven可以自动导入一个jar包所依赖的其他jar包</li>
</ul>
<hr>
<h2 id="WHAT"><a href="#WHAT" class="headerlink" title="WHAT"></a>WHAT</h2><ul>
<li><p>Maven是一个服务于Java平台的 <strong>自动化构建</strong> 工具（Make → Ant → Maven → Gradle）  </p>
</li>
<li><p>构建的概念：以java源文件、框架配置文件、JSP、HTML、图片等资源为原材料，去生产一个可以运行的项目的过程，包括编译、部署、搭建  </p>
</li>
<li>编译：Java源文件 → 编译 → Class字节码文件 → 交给JVM去执行  </li>
<li>部署：项目最终运行的并不是web工程本身，而是这个web工程编译的结果，部署就是将编译结果拿到服务器上的指定目录下的过程，动态web工程 → 编译、部署 → 编译结果  </li>
</ul>
<ul>
<li>构建过程中的各个环节：  </li>
</ul>
<ol>
<li>清理：将以前编译得到的旧的Class字节码文件删除，为下一次编译做准备</li>
<li>编译：将Java源程序编译成Class字节码文件</li>
<li>测试：自动测试，自动调用Junit程序</li>
<li>报告：测试程序执行的结果</li>
<li>打包：动态web工程打WAR包，Java工程打JAR包</li>
<li>安装：Maven特定的概念，将打包得到的文件复制到仓库中的指定位置</li>
<li>部署：将WAR包复制到servlet容器的指定目录下，使其可以运行</li>
</ol>
<h3 id="Maven的核心概念"><a href="#Maven的核心概念" class="headerlink" title="Maven的核心概念"></a>Maven的核心概念</h3><h4 id="约定的目录结构"><a href="#约定的目录结构" class="headerlink" title="约定的目录结构"></a>约定的目录结构</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ProjectName                     根目录：工程名</span><br><span class="line">|---src                         src目录：源码</span><br><span class="line">|---|---main                    main目录：存放主程序</span><br><span class="line">|---|---|---java                java目录：存放Java源文件</span><br><span class="line">|---|---|---resources           resources目录：存放框架或其他工具的配置文件</span><br><span class="line">|---|---<span class="built_in">test</span>                    <span class="built_in">test</span>目录：存放测试程序</span><br><span class="line">|---|---|---java                </span><br><span class="line">|---|---|---resources           </span><br><span class="line">|---pom.xml                     pom.xml 文件：Maven工程的核心配置文件</span><br></pre></td></tr></table></figure>
<h4 id="POM"><a href="#POM" class="headerlink" title="POM"></a>POM</h4><ul>
<li>Project Object Model 项目对象模型，pom.xml 是Maven工程的核心配置文件</li>
</ul>
<h4 id="坐标"><a href="#坐标" class="headerlink" title="坐标"></a>坐标</h4><ul>
<li>使用下面三个向量在仓库中唯一定位一个Maven工程：（Maven仓库也是这样定位）<br>groupid：公司或组织域名倒序 + 项目名<br>artifactid：模块名<br>version：版本</li>
</ul>
<h4 id="依赖-dependency"><a href="#依赖-dependency" class="headerlink" title="依赖 dependency"></a>依赖 dependency</h4><ul>
<li><p>Maven解析依赖信息时会去仓库寻找依赖的JAR包，对于自己开发的Maven工程，要想使用依赖，需要先将其加入到本地仓库，方法：在工程pom.xml所在目录下，使用 <code>mvn install</code> 命令  </p>
</li>
<li><p>依赖的范围scope主要有三种：compile，test，provided，区别如下：  </p>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">依赖范围 scope</th>
<th style="text-align:center">对主程序是否有效</th>
<th style="text-align:center">对测试程序是否有效</th>
<th style="text-align:center">是否参与打包</th>
<th style="text-align:center">是否参与部署</th>
<th style="text-align:center">典型例子</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">compile</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">参与</td>
<td style="text-align:center">参与</td>
<td style="text-align:center">spring-core</td>
</tr>
<tr>
<td style="text-align:center">test</td>
<td style="text-align:center">无效</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">不参与</td>
<td style="text-align:center">不参与</td>
<td style="text-align:center">junit</td>
</tr>
<tr>
<td style="text-align:center">provided</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">有效</td>
<td style="text-align:center">不参与</td>
<td style="text-align:center">不参与</td>
<td style="text-align:center">servlet-api.jar</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">  &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.11&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;<span class="built_in">test</span>&lt;/scope&gt;</span><br><span class="line">  &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>依赖的传递性：导入某个依赖，它所依赖的父依赖也会跟着传递过来，因此可以传递的依赖不必在每个工程中重复声明，在最底层的工程中依赖一次即可；<strong>注意：非compile范围的依赖不能传递，要想使用就要重复声明</strong>  </p>
</li>
<li><p>依赖的排除：不想导入传递过来的父依赖，可使用下面的语句将其排除，插在dependency之内  </p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;exclusions&gt;</span><br><span class="line">  &lt;exclusion&gt;</span><br><span class="line">    &lt;groupId&gt;&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;&lt;/artifactId&gt;</span><br><span class="line">  &lt;/exclusion&gt;</span><br><span class="line">&lt;/exclusions&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>统一管理依赖的版本：使用 <code>&lt;properties&gt;&lt;/properties&gt;</code> 标签配合自定义标签</li>
</ul>
<h4 id="仓库-repository"><a href="#仓库-repository" class="headerlink" title="仓库 repository"></a>仓库 repository</h4><ul>
<li>默认本地仓库地址 C:\Users\username\.m2\repository</li>
<li>本地仓库中没有的，会去远程仓库下载（私服、中央仓库、中央仓库镜像）</li>
<li>仓库中存放的是Maven工程，包括各种插件、第三方框架或工具的JAR包、自己开发的Maven工程</li>
</ul>
<h4 id="生命周期-lifecycle、插件-plugin"><a href="#生命周期-lifecycle、插件-plugin" class="headerlink" title="生命周期 lifecycle、插件 plugin"></a>生命周期 lifecycle、插件 plugin</h4><ul>
<li>生命周期是指各个构建环节的执行顺序  </li>
<li>生命周期各个阶段的具体任务是由插件完成的，各个阶段与插件的目标对应  </li>
<li>不论现在要执行生命周期的哪一个阶段，都是从这个生命周期最初的位置开始执行</li>
</ul>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ul>
<li>以junit为例：junit处于test范围，由于test范围的依赖不能传递，分散在各个工程中，很容易造成版本不一致，给协同开发带来问题，因此需要对各个工程对junit依赖的版本进行统一管理</li>
<li>解决思路：将junit依赖版本统一提取到父工程中，在子工程中声明依赖时不指定版本，以父工程中的设定为准，便于修改</li>
</ul>
<h4 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h4><ul>
<li>一键安装各个模块工程</li>
</ul>
<hr>
<h2 id="HOW"><a href="#HOW" class="headerlink" title="HOW"></a>HOW</h2><h3 id="常用的Maven命令（cmd命令行）"><a href="#常用的Maven命令（cmd命令行）" class="headerlink" title="常用的Maven命令（cmd命令行）"></a>常用的Maven命令（cmd命令行）</h3><ul>
<li>注意：执行命令时必须要进入pom.xml所在目录  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mvn clean：清理  </span><br><span class="line">mvn compile：编译主程序  </span><br><span class="line">mvn test-compile：编译测试程序  </span><br><span class="line">mvn test：执行测试  </span><br><span class="line">mvn package：打包  </span><br><span class="line">mvn install：安装  </span><br><span class="line">mvn site：生成站点</span><br></pre></td></tr></table></figure>
<h3 id="Maven-在-IntelliJ-IDEA-中的使用"><a href="#Maven-在-IntelliJ-IDEA-中的使用" class="headerlink" title="Maven 在 IntelliJ IDEA 中的使用"></a>Maven 在 IntelliJ IDEA 中的使用</h3><p>这部分要是详细写能写单独一篇，很多细致的操作我还没用到也还没学，在此先记录一下用Maven创建web工程的初始步骤，虽然看上去简单，但对于我一个新手，还是摸索了好久  </p>
<ol>
<li>新建一个工程</li>
</ol>
<img src="/2019/08/05/Maven基本概念和操作/2019080501.png" title="This is an example image">
<ol start="2">
<li>选择Maven，勾选create from archetype，选择maven-archetype-webapp</li>
</ol>
<img src="/2019/08/05/Maven基本概念和操作/2019080502.PNG" title="This is an example image">
<ol start="3">
<li>输入groupid和artifactid，然后next-next-finish</li>
</ol>
<img src="/2019/08/05/Maven基本概念和操作/2019080503.PNG" title="This is an example image">
<ol start="4">
<li>BUILD SUCCESS之后，开始配置Tomcat：点击右上角Add configuration，在弹出窗口中点击左上角的“+”号，选择Tomcat server - local，填写Name，Application server，open browser，看到下方Warning后点击Warning右侧的Fix，选择war exploded，最后点OK，则Tomcat配置完毕</li>
</ol>
<img src="/2019/08/05/Maven基本概念和操作/2019080504.png" title="This is an example image">

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/05/Maven基本概念和操作/" data-id="cjyxy4dwi000120v0jf2lc5fp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Maven/">Maven</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2019/08/01/基于hexo搭建个人博客并利用Github部署到远端/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">基于hexo搭建个人博客并利用Github部署到远端</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/05/Maven基本概念和操作/">Maven基本概念和操作</a>
          </li>
        
          <li>
            <a href="/2019/08/01/基于hexo搭建个人博客并利用Github部署到远端/">基于hexo搭建个人博客并利用Github部署到远端</a>
          </li>
        
          <li>
            <a href="/2019/07/31/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>